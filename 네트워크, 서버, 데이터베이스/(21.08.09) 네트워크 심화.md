
## 인터넷 프로토콜

## IP와 IP Packet

### 1. IP Packet
- IP : 지정한 IP 주소에 패킷(Packet)이라는 통신 단위로 데이터 전달
- IP Packet (pack + bucket : 소포) : 출발지 IP, 목적지 IP와 같은 정보가 포함
- 패킷 단위로 전송하여 복잡한 인터넷 망 사이에서도 IP 주소를따라 정확한 목적지로 데이터 전달
- 서버와 클라이언트 모두 패킷 단위로 전달

### 2. IP Packet의 한계
- 비연결성 : 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송 가능 (서버 상태 파악 불가능)
- 비신뢰성 : 중간에 패킷이 사라질 수 있고 패킷의 순서를 보장할 수 없음 (각 패킷들이 서로 다른 노드들 통해 전달)

## TCP vs UDP
- TCP (Transmission Control Protocol) 전송 제어 프로토콜
- UDP (User Datagram Protocol)
- 인터넷 계층에 속하는 IP보다 높은 전송 계층에 속한 TCP로 IP의 한계 보완 가능

- TCP/IP 패킷
  - TCP 세그먼트 : 출발지 PORT, 목적지 PORT, 전송 제어, 순서, 검증 정보 등 (IP 패킷 정보 보완)
  - IP 세트먼트 : 출발지 IP, 목적지 IP 등

### TCP 특징
- 연결 지향 : TCP 3 way handshake (가상 연결)
  - SYN : Syncronize / ACK : Acknowledgment
  - 클라이언트는 서버에 접속을 요청하는 SYN 패킷을 보냄
  - 서버는 SYN요청을 받고 클라이언트에게 요청을 수락한다는 ACK 와 SYN가 설정된 패킷을 발송
  - 서버에게 ACK을 보내면 이후 연결이 성립되며 데이터를 전송할 수 있음
  - 만약 서버가 꺼져있다면 클라이언트의 SYN에 대한 서버의 응답이 없기 떄문에 클라이언트가 데이터를 보내지 않음
  - 현재에는 최적화가 이루어져 3번 ACK을 보낼때 데이터를 함께 보내기도 함

- 데이터 전달 보증 : TCP는 데이터 전송이 성공적으로 이루어진다면 이에 대한 응답을 돌려주어 IP 패킷의 비연결성 보완
- 순서 보장 : 패킷이 순서대로 도착하지 않는다면 TCP 세그먼트에 있는 정보를 토대로 다시 패킷 전송을 요청하여 비신뢰성 보완

### UDP 특징
- 구조 : IP 프로토콜에 PORT, 체크섬 필드 정보만 추가된 단순한 프로토콜
- 체크섬(checksum) : 중복 검사의 한 형태로 오류 정정을 통해 공간(전자 통신)이나 시간(기억 장치) 속에서 송신된 자료의 무결성을 보호하는 단순한 방법
- 비 연결지향 : 신뢰성은 낮지만 3 way handshake 방식을 사용하지 않기 때문에 TCP와 비교해 빠른 속도를 보장
- HTTP3는 UDP를 사용하며 이미 여러 기능이 구현된 TCP보다는 하얀 도화지처럼 커스터마이징이 가능
