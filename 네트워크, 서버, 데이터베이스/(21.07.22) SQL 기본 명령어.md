# SQL 기본 명령어

## 기본 쿼리문
- Select : 데이터에 포함될 특성 특정
- From : 결과를 도출해낼 테이블 명시
- Where : 필터 역할의 쿼리문
- And, Or, Not
- Order By
- Limit : 결과로 출력할 데이터의 갯수를 정함
- Distinct : 유니크한 값을 받고 싶을 때에는 SELECT DISTINCT 를 사용
- Insert Into
- Null Values
- Update
- Delete
- Count
- Like
- Wildcards
- Aliases
- Joins
- Inner Join
- Left Join
- Right Join
- Group By

## 데이터베이스 관련 용어
- SQL Create DB
- SQL Drop DB
- SQL Create Table
- SQL Drop Table
- SQL Alter Table
- SQL Not Null
- SQL Unique
- SQL Primary Key
- SQL Foreign Key
- SQL Default
- SQL Auto Increment
- SQL Dates

SELECT * FROM Customers
WHERE NOT City = 'Berlin';

### SELECT
- Customers 테이블에서, City 열 선택
```sql
SELECT City FROM Customers;
```

- Customers 테이블에서, Country 열에서 유니크한 값 보여주기
```sql
SELECT DISTINCT Country FROM Customers
```

### WHERE
- Customers 테이블에서, City열의 값이 Berlline인 데이터 모두 선택
```sql
SELECT * FROM Customers
WHERE City = 'Berlin';
```

- NOT : Customers 테이블에서, City열의 값이 Berlline아 아닌 데이터 모두 선택
```sql
SELECT * FROM Customers
WHERE NOT City = 'Berlin';
```

- Customers 테이블에서, City열의 값이 Berlin이고 PostalCode열의 값이 12209인 데이터 모두 선택
```sql
SELECT * FROM Customers
WHERE City = 'Berlin'
AND PostalCode = 12209;
```

- Customers 테이블에서, City열의 값이 Berlin이거나 Citi열의 값이 London인 데이터 모두 선택
```sql
SELECT * FROM Customers
WHERE City = 'Berlin'
OR City = 'London';
```

### ORDER BY

- 오름차순 : Customrs 테이블에서 모든 데이터를 보여주되, City 열을 기준으로 오름차순으로 데이터 정리
```sql
SELECT * FROM Customers
ORDER BY City;
```

- 내림차순 : Customrs 테이블에서 모든 데이터를 보여주되, City 열을 기준으로 내림차순으로 데이터 정리
```sql
SELECT * FROM Customers
ORDER BY City DESC;
```

- Customrs 테이블에서 모든 데이터를 보여주되, Country 열을 기준으로 내림차순으로 정리한 뒤 City열을 기준으로 내림차순 정리
```sql
SELECT * FROM Customers
ORDER BY Country, City;
```

### INSERT

- Customers 테이블에 새 기록 삽입
```sql
INSERT INTO Customers (
CustomerName, 
AddressValue, 
City, 
PostalCode,
Country)
VALUES (
'Hekkan Burger',
'Gateveien 15',
'Sandnes',
'4306',
'Norway');
```

### NULL

- Customers 테이블에서 모든 데이터를 선택하되, PostalCode 열이 비어있는 데이터 선택
```sql
SELECT * FROM Customers
WHERE PostalCode IS NULL;
```

- Customers 테이블에서 모든 데이터를 선택하되, PostalCode 열이 비어있지 않은 데이터 선택
```sql
SELECT * FROM Customers
WHERE PostalCode IS NOT NULL;
```

### UPDATE

- Customer 테이블의 모든 데이터를 업데이트 하되, City열의 기록을 'Oslo'로 변경
```sql
UPDATE Customers
SET City = 'Oslo';
```

- Customer 테이블의 내용을 업데이트 하되, Country열의 값이 Norway인 경우에만 City열을 Oslo로 변경
```sql
UPDATE Customers
SET City = 'Oslo'
WHERE Country = 'Norway';
```

- Customer 테이블의 내용을 업데이트 하되, CustomerID열의 값이 32인 경우에만 City열을 Oslo로, Country열을 Norway로 변경
```sql
UPDATE Customers
SET City = 'Oslo',
Country = 'Norway'
WHERE CustomerID = 32;
```

### DELETE

- Customers 테이블의 모든 데이터를 삭제하되, Country열의 값이 'Norway'인 경우만 제거
```sql
DELETE FROM Customers
WHERE Country = 'Norway';
```

- Customers 테이블의 모든 기록 지우기
```sql
DELETE FROM Customers;
```


### 함수

- MIN/MAX : price 열에서 최소값 선택

```sql
SELECT MIN(Price)
FROM Products;
-- 최대값은 MAX 함수 사용
```

- COUNT : Price의 값이 18인 데이터 개수를 리턴
```sql
SELECT COUNT(*)
FROM Products
WHERE Price = 18;
```

- AVG : Products테이블에서 price 값의 평균을 계산
```sql
SELECT AVG(Price)
FROM Products;
```

- SUM : Products테이블의 Price열의 합계 구하기 
```sql
SELECT SUM(Price)
FROM Products;
```

### LIKE
- City열의 값이 a로 시작하는 모든 기록을 선택 
```sql
SELECT * FROM Customers
WHERE City LIKE 'a%';
```

- City열의 값이 a로 끝나는 모든 기록을 선택 
```sql
SELECT * FROM Customers
WHERE City LIKE '%a';
```

- City열의 값이 a를 포함하는 모든 기록을 선택 
```sql
SELECT * FROM Customers
WHERE City LIKE '%a%';
```

- City열의 값이 a로 시작하여 b로 끝나는 모든 기록을 선택 
```sql
SELECT * FROM Customers
WHERE City LIKE 'a%b';
```

- City열의 값이 a로 시작하지 않는 모든 기록을 선택 
```sql
SELECT * FROM Customers
WHERE City NOT LIKE 'a%';
```

### Wildcards
- City열의 값의 2번째 글자가 a로 시작하는 기록 선택

```sql
SELECT * FROM Customers
WHERE City LIKE '_a%';
```

- City열의 값이 a또는 c또는 s로 시작하는 모든 기록을 선택 
```sql
SELECT * FROM Customers
WHERE City LIKE '[acs]%';
```

- City열의 값이 a부터 f사이의 값으로 시작하는 모든 기록을 선택 
```sql
SELECT * FROM Customers
WHERE City LIKE '[a-f]%';
```

- City열의 값이 a또는 c또는 f로 시작하지 않는 모든 기록을 선택
```sql
SELECT * FROM Customers
WHERE City LIKE '[!acf]%';
```

### IN
- Country열의 값이 노르웨이 또는 프랑스인 기록을 모두 선택
```sql
SELECT * FROM Customers
WHERE Country IN ('Norway', 'France');
```

- Country열의 값이 노르웨이 또는 프랑스인 것을 제외한 기록을 모두 선택
```sql
SELECT * FROM Customers
WHERE Country NOT IN ('Norway', 'France');
```

### BETWEEN

- Price 열의 값이 10에서 20 사이인 모든 기록 선택
```sql
SELECT * FROM Products
WHERE Price BETWEEN 10 AND 20;
```

- Price 열의 값이 10에서 20 사이가 아닌 모든 기록 선택
```sql
SELECT * FROM Products
WHERE Price NOT BETWEEN 10 AND 20;
```

- 문자열도 적용 가능
```sql
SELECT * FROM Products
WHERE ProductName BETWEEN 'Geitost' AND 'Pavlova';
```

### Alias

- Customers 테이블을 표시할 때 PostalCode열의 별칭을 만들고 그 열은 Pno라고 해야 함
```sql
SELECT CustomerName,
Address,
PostalCode AS Pno
FROM Customers;
```

- Customers 테이블을 표시할 때 Customers 대신 Consumers로 참조
```sql
SELECT *
FROM Customers AS Consumers;
```

### JOIN

- Orders 테이블과 Customers 테이블을 연결하기 위해 CustomerID 필드를 두 테이블 간의 관계로 사용하기
```sql
SELECT *
FROM Orders
LEFT JOIN Customers
ON Orders.CustomerID=Customers.CustomerID;
```

- 두 테이블에 일치하는 항목이 있는 두 테이블의 모든 기록을 선택
```sql
SELECT *
FROM Orders
INNER JOIN Customers
ON Orders.CustomerID=Customers.CustomerID;
```

- Customers 테이블의 모든 기록와 Orders 테이블의 모든 일치하는 항목을 선택
```sql
SELECT *
FROM Orders
RIGHT JOIN Customers
ON Orders.CustomerID=Customers.CustomerID;
```

### GROUP BY

- 각 국가의 Customers 수 나열
```sql
SELECT COUNT(CustomerID),
Country
FROM Customers
GROUP BY Country;
```

- 고객이 가장 많은 국가부터 순서대로 각 국가의 고객 수를 나열
```sql
SELECT COUNT(CustomerID),
Country
FROM Customers
GROUP BY Country
ORDER BY COUNT(CustomerID) DESC;
```

### Database

- testDB라는 이름의 새로운 데이터베이스 생성하기
```sql
CREATE DATABASE testDB
```

- testDB라는 이름의 새로운 데이터베이스 삭제하기
```sql
DROP DATABASE testDB
```

- Person이라는 새로운 테이블 생성하기

```sql
CREATE TABLE Persons
 (
  PersonID int,
  LastName varchar(255),
  FirstName varchar(255),
  Address varchar(255),
  City varchar(255) 
);
```

- Person이라는 테이블 삭제하기
```sql
DROP TABLE Persons;
```

- 테이블 내의 데이터 모두 삭제하기
```sql
TRUNCATE TABLE Persons;
```

- Birthday라는 Date 유형의 열을 추가하기
```sql
ALTER TABLE Persons
ADD Birthday DATE;
```

- Persons 테이블의 Birthday열을 삭제하기
```sql
ALTER TABLE Persons
DROP COLUMN Birthday;
```
